import axios from 'axios'; const BASE='https://api.bufferapp.com/1'; const token=process.env.BUFFER_ACCESS_TOKEN||''; export type BufferPost={text:string; profile_ids:string[]; media?:{link?:string,photo?:string,thumbnail?:string}; now?:boolean;}; export async function bufferCreate(post:BufferPost){ if(!token){ console.log('[dry-run][buffer]',post.text.slice(0,120)); return {id:`dry_${Date.now()}`}; } const res=await axios.post(`${BASE}/updates/create.json`,{...post},{params:{access_token:token}}); return res.data; }
